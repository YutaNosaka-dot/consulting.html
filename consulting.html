<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>コンサル・企画職｜バーチャル仕事体験</title>
  <style>
    body{font-family:system-ui; margin:0; background:#fff; color:#111;}
    .wrap{max-width:860px; margin:0 auto; padding:40px 20px;}
    h1{font-size:30px; margin-bottom:10px;}
    h2{margin-top:36px;}
    p{line-height:1.7;}
    .muted{color:#555;}
    .card{border:1px solid #e6e6e6; border-radius:14px; padding:20px; margin:20px 0;}
    textarea{width:100%; min-height:140px; font-size:15px; padding:10px;}
    .btn{display:inline-block; background:#111; color:#fff; text-decoration:none; padding:12px 16px; border-radius:12px; font-weight:600; margin-top:14px;}
    .btn2{display:inline-block; border:1px solid #ddd; padding:12px 16px; border-radius:12px; text-decoration:none; color:#111;}
    hr{border:none; border-top:1px solid #eee; margin:36px 0;}
  </style>
</head>
<body>
  <div class="wrap">

    <h1>コンサル・企画職<br>バーチャル仕事体験（約15分）</h1>
    <p class="muted">
      これは採用選考ではありません。評価・正解はありません。<br>
      仕事の「考え方」を体験し、自分に合うかを判断するためのプログラムです。
    </p>

    <div class="card">
      <h2>はじめに</h2>
      <p>
        あなたは、ある企業で<strong>課題解決を支援するコンサル・企画職</strong>として働いています。<br>
        今日のテーマは「売上が落ちている企業の課題整理」です。
      </p>
      <p class="muted">
        ※これは架空のケースです。<br>
        ※途中でやめても問題ありません。
      </p>
    </div>

    <hr>

    <div class="card">
      <h2>課題①：状況を整理する（5分）</h2>
      <p>
        地方に展開するスーパーマーケットチェーンで、<br>
        ここ数年<strong>売上が継続的に減少</strong>しています。
      </p>
      <p>
        現時点で考えられる<strong>原因をできるだけ多く</strong>書き出してください。<br>
        箇条書きで構いません。
      </p>
      <textarea id="q1" placeholder="例：来店客数が減っている／単価が下がっている など"></textarea>
    </div>

    <hr>

    <div class="card">
      <h2>課題②：仮説を立てる（5分）</h2>
      <p>
        課題①で挙げた要因の中から、<br>
        <strong>最も影響が大きそうなものを1〜2個</strong>選んでください。
      </p>
      <p>
        「なぜそれが重要だと思うか」を言葉で説明してください。
      </p>
      <textarea id="q2" placeholder="なぜそれが売上低下の主要因だと考えましたか？"></textarea>
    </div>

    <hr>

    <div class="card">
      <h2>課題③：次に何をするか決める（5分）</h2>
      <p>
        もしあなたがこの案件を任されたら、<br>
        <strong>最初に何を確認・調査しますか？</strong>
      </p>
      <p>
        理由とあわせて書いてください。
      </p>
      <textarea id="q3" placeholder="例：POSデータを分析する／顧客層の変化を調べる 等"></textarea>
    </div>

    <hr>

    <div class="card">
  <h2>回答を保存する</h2>
  <p class="muted">評価・採用判断には使用されません。</p>
  <button class="btn" onclick="submitAnswers()">保存する</button>
</div>
    
    <div class="card">
      <h2>完了</h2>
      <p>
        体験は以上です。お疲れさまでした。
      </p>
      <p class="muted">
        正解や評価はありません。<br>
        この仕事の考え方が「面白そうか」「自分に合いそうか」を振り返ってみてください。
      </p>
      <a class="btn" href="simulations.html">体験一覧に戻る</a>
      <a class="btn2" href="index.html">トップに戻る</a>
    </div>

  </div>
  <script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

  const supabaseUrl = 'nosakayuuta0413@gmail.com's Project';
  const supabaseKey = 'lgcjvkagdftvkunybctx';
  const supabase = createClient(supabaseUrl, supabaseKey);

  window.submitAnswers = async () => {
    const q1 = document.getElementById('q1').value.trim();
    const q2 = document.getElementById('q2').value.trim();
    const q3 = document.getElementById('q3').value.trim();

    if (!q1 || !q2 || !q3) {
      alert('すべての設問に回答してください');
      return;
    }

    const answerText =
`【課題① 状況整理】
${q1}

【課題② 仮説】
${q2}

【課題③ 次のアクション】
${q3}`;

    const { error } = await supabase.from('submissions').insert({
      challenge_id: 'consulting_day1',
      answer_text: answerText
    });

    if (error) {
      alert('保存エラー: ' + error.message);
    } else {
      alert('保存しました。お疲れさまでした。');
    }
  };
</script>


</body>
</html>
